(this["webpackJsonpr3f-template"]=this["webpackJsonpr3f-template"]||[]).push([[0],{47:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(5),o=n.n(c),i=n(30),r=n.n(i),s=(n(47),n(9)),a=n(21),j=n(56),b=n(15),u=n(19),l=n(7),p=n(10);var f=function(e){var t=Object(a.b)((function(){return Object(l.a)({mass:.2,position:[0,5,0],velocity:[0,4,0]},e)})),n=Object(s.a)(t,1)[0];return Object(p.jsxs)("mesh",{ref:n,children:[Object(p.jsx)("boxBufferGeometry",{}),Object(p.jsx)("meshPhysicalMaterial",{})]})},O="https://spacesummer.art/",d=n(41),m=function(e){var t=Object(c.useRef)(),n=Object(b.e)(d.a,e.path);return Object(p.jsx)("mesh",{ref:t,rotation:[Math.PI/2,0,0],children:Object(p.jsx)("primitive",{object:n.scene,scale:[1.5,1.5,1.5],position:e.position})})};var h=function(e){var t=Object(a.c)((function(){return Object(l.a)({rotation:[-Math.PI/2,0,0]},e)})),n=Object(s.a)(t,1)[0];return Object(p.jsxs)("mesh",{ref:n,receiveShadow:!0,children:[Object(p.jsx)(m,{path:O+"/assets/map2/BASKETBALL/BASKETBALL.gltf",position:[15,-24,13]}),Object(p.jsx)(m,{path:O+"/assets/map2/BASE2/BASE.gltf",position:[15,-24,13]}),Object(p.jsx)(m,{path:O+"/assets/map2/TEST/test.gltf",position:[15,-24,13]})]})},x=n(55),v=n(0),g=n(37),y=n(13);function k(e){return{KeyW:"moveForward",KeyS:"moveBackward",KeyA:"moveLeft",KeyD:"moveRight",Space:"jump"}[e]}var w=Object(u.b)({key:"position",default:{position:[0,0,0],rotation:[0,0,0]}}),A=(Object(u.b)({key:"camera",default:{position:[0,0,0],rotation:[0,0,0]}}),function(e){var t=e.position,n=void 0===t?[0,0,0]:t,o=e.offset,i=void 0===o?[0,0,0]:o,r=e.dims,j=void 0===r?[1,1,1]:r,l=e.visible,f=void 0!==l&&l,O=e.children,d=Object(a.b)((function(){return{mass:1,args:j,position:n}})),m=Object(s.a)(d,2),h=m[0],x=m[1],v=Object(u.c)(w),g=v.position,y=v.rotation;return Object(b.d)((function(e){e.clock;x.position.set(g[0],g[1],g[2]),x.rotation.set(y[0],y[1],y[2])})),Object(p.jsxs)("group",{ref:h,api:x,children:[Object(p.jsxs)("mesh",{scale:j,visible:f,children:[Object(p.jsx)("boxBufferGeometry",{}),Object(p.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(p.jsx)(c.Suspense,{fallabck:Object(p.jsxs)("mesh",{scale:j,visible:f,children:[Object(p.jsx)("boxBufferGeometry",{}),Object(p.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),children:Object(p.jsx)("group",{position:i,children:O})})]})}),L=function(e){var t,n=Object(c.useRef)(),o=Object(c.useState)(0),i=Object(s.a)(o,2),r=i[0],a=i[1],j=Object(c.useRef)(),f=function(){var e=Object(c.useState)({moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1,jump:!1}),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(c.useEffect)((function(){var e=function(e){o((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(y.a)({},k(e.code),!0))}))},t=function(e){o((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(y.a)({},k(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),n}(),O=f.moveForward,d=f.moveBackward,m=f.moveLeft,h=f.moveRight,L=e.fbxPath,S=e.idlePath,B=Object(b.e)(g.a,L),E=Object(b.e)(g.a,S),F=B.animations,M=E.animations[0],P=Object(u.d)(w),R=Object(b.f)().camera,T=(t=new v.AnimationMixer(B)).clipAction(M),C=t.clipAction(F[0]);F.length>0&&t.stopAllAction(),Object(b.d)((function(e,n){a(O|d|m|h?1:0),t.update(n)})),Object(b.d)((function(e){e.clock;var t=new v.Vector3,c=new v.Vector3(0,0,Number(d)-Number(O)),o=new v.Vector3(Number(m)-Number(h),0,0);t.subVectors(c,o).normalize().multiplyScalar(.1).applyEuler(R.rotation),P((function(e){var c=[e.position[0]+t.x,1,e.position[2]+t.z],o=R.rotation.toArray();return R.position.copy(new v.Vector3(c[0]+10*Math.sin(o[1]),3,c[2]+10*Math.cos(o[1]))),n.current.target=new v.Vector3(c[0],R.position.y,c[2]),n.current.update(),{position:c,rotation:[0,o[1]+Math.PI,0]}}))})),Object(c.useEffect)((function(){if(t.stopAllAction(),1===r)C.setLoop(v.LoopRepeat),C.play();else T.setLoop(v.LoopRepeat),T.play()}),[r,C,T,t]);var I=new v.MeshBasicMaterial({color:16777215});return B.children[1].material[0].color=I.color,Object(p.jsxs)("group",{ref:j,up:[0,1,0],children:[Object(p.jsx)(x.a,{ref:n}),Object(p.jsx)(A,{visible:!0,up:[0,0,0],dims:[1.5,2,1.5],children:Object(p.jsx)("primitive",{object:B,path:e.path,scale:[.014,.014,.014],position:[0,-.9,0]})})]})},S=["px.png","nx.png","py.png","ny.png","nz.png","pz.png"].map((function(e){return"/assets/skyboxes/city/"+e}));function B(){return function(e){var t=Object(b.f)().scene;Object(c.useEffect)((function(){var n=(new v.CubeTextureLoader).load(e);t.background=n,t.environment=n}),[e,t.background,t])}(S),Object(p.jsx)(p.Fragment,{})}function E(e,t){return Math.random()*(t-e)+e}n(52);function F(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("ambientLight",{intensity:.2,color:"#FAAD37"}),Object(p.jsx)("directionalLight",{position:[70,100,0],color:"#FAAD37",intensity:1}),Object(p.jsx)(B,{}),Object(p.jsxs)(c.Suspense,{fallback:null,children:[Object(p.jsx)(h,{}),new Array(15).fill(0).map((function(e){return Object(p.jsx)(f,{position:[E(-4,4),E(1,10),E(-4,4)],scale:[.1,.1,.15],rotation:[E(.1,25),0,0]})})),Object(p.jsx)(L,{fbxPath:O+"assets/Walking/Walking.fbx",idlePath:O+"assets/Walking/Idle.fbx"})]})]})}var M=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(b.a,{camera:{position:[7,7,7]},children:Object(p.jsxs)(u.a,{children:[Object(p.jsx)(a.a,{children:Object(p.jsx)(F,{})}),Object(p.jsx)(j.a,{})]})})})};var P=function(){return Object(p.jsx)(p.Fragment,{})};var R=function(){var e=Object(c.useState)(0),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(p.jsx)("div",{style:{width:"100%",height:"100%"},children:1===n?Object(p.jsx)(M,{}):2===n?Object(p.jsx)(P,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{onClick:function(){return o(1)},children:"\uc2dc\uc791\ud558\uae301"}),Object(p.jsx)("button",{onClick:function(){return o(2)},children:"\uc2dc\uc791\ud558\uae302"})]})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),i(e),r(e)}))};r.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(R,{})}),document.getElementById("root")),T()}},[[53,1,2]]]);
//# sourceMappingURL=main.7c686ea5.chunk.js.map